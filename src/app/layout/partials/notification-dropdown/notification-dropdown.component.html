<!-- Notifications -->
<!-- <div ngbDropdown class="d-inline-block">
  <div ngbDropdownToggle>
    <div class="text-body py-2 px-3 rounded d-inline-block">
      <i class="fa-solid fa-bell fs-5"></i>
    </div>
  </div>
  <div ngbDropdownMenu aria-labelledby="dropdownBasic1">
    <div class="p-3" style="min-width: 300px">
      <ng-container *ngFor="let i of [1, 2, 3]">
        <app-notification-item></app-notification-item>
      </ng-container>
    </div>
  </div>
</div> -->

<div class="dropdown">
  <a
    data-mdb-dropdown-init
    class="text-reset me-3 dropdown-toggle hidden-arrow"
    href="#"
    id="navbarDropdownMenuLink"
    role="button"
    aria-expanded="false"
  >
    <i class="fas fa-bell fs-5"></i>
    <span *ngIf="unReadCount$ | async as count" class="badge rounded-pill badge-notification bg-danger">{{
      count
    }}</span>
  </a>
  <div class="dropdown-menu dropdown-menu-end" style="width: 350px" aria-labelledby="navbarDropdownMenuLink">
    <div class="border-bottom">
      <h4 class="p-3 text-primary mb-0">Thông báo</h4>
    </div>
    <div class="p-2 overflow-y-scroll" *ngIf="notifications$ | async as notifications" style="max-height: 60vh">
      <ng-container *ngIf="notifications.length; else noHaveNotis">
        <ng-container *ngFor="let noti of notifications">
          <app-notification-list-item [notification]="noti"></app-notification-list-item>
        </ng-container>
      </ng-container>
      <ng-template #noHaveNotis>
        <div class="px-2 py-1">
          <span class="text-muted">Không có thông báo mới!</span>
        </div>
      </ng-template>
    </div>
    <div class="text-center border-top py-2">
      <a class="cursor-pointer text-primary" routerLink="/notifications">Xem tất cả</a>
    </div>
  </div>
</div>
