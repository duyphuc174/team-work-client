<h2 class="text-uppercase text-center mb-4 text-primary">Đăng ký tài khoản</h2>

<form [formGroup]="form" (ngSubmit)="register()">
  <div class="form-group mb-3">
    <label class="form-label required" for="email">Email</label>
    <input
      type="email"
      id="email"
      class="form-control form-control-lg"
      formControlName="email"
      placeholder="VD: 6ZCfZ@example.com"
    />
    <app-error-message
      [control]="control('email')"
      [validation]="'required'"
      [message]="'Bạn chưa nhập email!'"
    ></app-error-message>
    <app-error-message
      [control]="control('email')"
      [validation]="'email'"
      [message]="'Email không đúng định dạng!'"
    ></app-error-message>
  </div>

  <div class="row">
    <div class="col">
      <div class="form-group mb-3">
        <label class="form-label required" for="firstName">Họ</label>
        <input
          type="text"
          id="firstName"
          class="form-control form-control-lg"
          formControlName="firstName"
          placeholder="VD: Nguyễn Văn"
        />
        <app-error-message
          [control]="control('firstName')"
          [validation]="'required'"
          [message]="'Bạn chưa nhập họ!'"
        ></app-error-message>
      </div>
    </div>
    <div class="col">
      <div class="form-group mb-3">
        <label class="form-label required" for="lastName">Tên</label>
        <input
          type="text"
          id="lastName"
          class="form-control form-control-lg"
          formControlName="lastName"
          placeholder="VD: An"
        />
        <app-error-message
          [control]="control('lastName')"
          [validation]="'required'"
          [message]="'Bạn chưa nhập tên!'"
        ></app-error-message>
      </div>
    </div>
  </div>

  <div class="form-group mb-3">
    <label class="form-label required" for="passwork">Mật khẩu</label>
    <input
      type="password"
      id="passwork"
      class="form-control form-control-lg"
      formControlName="password"
      placeholder="******"
    />
    <app-error-message
      [control]="control('password')"
      [validation]="'required'"
      [message]="'Bạn chưa nhập mật khẩu!'"
    ></app-error-message>
    <app-error-message
      [control]="control('password')"
      [validation]="'minlength'"
      [message]="'Mật khẩu tối thiểu 6 ký tự!'"
    ></app-error-message>
    <app-error-message
      [control]="control('password')"
      [validation]="'maxlength'"
      [message]="'Mật này tối đa 16 ký tự!'"
    ></app-error-message>
  </div>

  <div class="form-group mb-3">
    <label class="form-label required" for="cPassword">Nhập lại mật khẩu</label>
    <input
      type="password"
      id="cPassword"
      class="form-control form-control-lg"
      formControlName="cPassword"
      placeholder="******"
    />
    <app-error-message
      [control]="control('cPassword')"
      [validation]="'required'"
      [message]="'Bạn chưa nhập lại mật khẩu!'"
    ></app-error-message>
    <app-error-message
      [control]="control('cPassword')"
      [validation]="'minlength'"
      [message]="'Mật khẩu tối thiểu 6 ký tự!'"
    ></app-error-message>
    <app-error-message
      [control]="control('cPassword')"
      [validation]="'maxlength'"
      [message]="'Mật khẩu tối đa 16 ký tự!'"
    ></app-error-message>
    <ng-container *ngIf="form.controls['cPassword'].errors && form.controls['cPassword'].errors['ConfirmPassword']">
      <p class="mb-0 text-danger">Nhập lại mật khẩu không chính xác!</p>
    </ng-container>
  </div>

  <div class="d-flex justify-content-center">
    <button type="submit" class="btn btn-primary btn-block btn-lg gradient-custom-4 mt-3" [disabled]="form.invalid">
      Đăng ký
    </button>
  </div>

  <p class="text-center text-muted mt-5 mb-0">
    Bạn đã có tài khoản? <a routerLink="/auth/login" class="fw-bold text-body"><u>Đăng nhập</u></a>
  </p>
</form>
